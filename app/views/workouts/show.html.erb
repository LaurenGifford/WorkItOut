<h1>Workout: <%= @workout.name %></h1>

<ul>
    <li>Coach: <%= link_to @workout.client.coach.name, coach_path(@workout.client.coach) %></li>
    <li>Client: <%= link_to @workout.client.name, client_path(@workout.client) %></li>
    <li><%= @workout.completed ? "This workout was completed on #{ @workout.updated_at.strftime("%F") }" : "This workout has not been completed yet" %></li>
    <li>Exercises in this workout:
        <ol>
        <% @workout.workout_exercises.each do |workout_exercise|%>
        <li><%= link_to workout_exercise.exercise.name, exercise_path(workout_exercise.exercise) %>
        <%= button_to "Remove this exercise", delete_workout_exercise_path(workout_exercise), method: 'delete', data: { confirm: "Are you sure you want to delete '#{ workout_exercise.exercise.name }' from '#{ @workout.name }'?" } %>
        </li>
        <% end %>
        </ol>
    </li>
</ul>
<%= form_with scope: :workout_exercise, url: new_workout_exercise_path(params: {workout_id: @workout.id}), method: 'post' do |f|%>
    <%= f.label "Add an exercise to this workout" %>
    <%= f.collection_select :exercise_id, Exercise.all, :id, :name %>
    <%= f.submit "Add"%>
<% end %>